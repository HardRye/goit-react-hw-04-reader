{"version":3,"sources":["components/Reader/Controls/Controls.module.css","components/Reader/Counter/Counter.module.css","components/Reader/Reader.module.css","components/Reader/Publication/Publication.jsx","components/Reader/Counter/Counter.jsx","components/Reader/Controls/Controls.jsx","helpers/helpers.js","components/Reader/Reader.jsx","components/App/App.jsx","index.js","components/Reader/Publication/Publication.module.css"],"names":["module","exports","Publication","item","title","id","text","className","styles","publication","Counter","currentPage","maxPage","counter","Controls","handleControlButton","controls","type","name","button","disabled","onClick","getPageFromLocation","location","qs","parse","search","ignoreQueryPrefix","page","isPageEligible","queryPage","pagesArr","Number","isInteger","length","Reader","target","props","history","searchPage","push","this","publications","pathname","reader","Component","App","path","component","to","ReactDOM","render","document","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,SAAW,2BAA2B,OAAS,2B,mBCAjED,EAAOC,QAAU,CAAC,QAAU,2B,mBCA5BD,EAAOC,QAAU,CAAC,OAAS,yB,6OCkBZC,EAfK,SAAC,GAAD,QAAGC,KAAQC,EAAX,EAAWA,MAAOC,EAAlB,EAAkBA,GAAIC,EAAtB,EAAsBA,KAAtB,OAClB,6BAASC,UAAWC,IAAOC,YAAaJ,GAAIA,GAC1C,wBAAIE,UAAWC,IAAOJ,OAAQA,GAC9B,uBAAGG,UAAWC,IAAOF,MAAOA,K,iBCUjBI,EAbC,SAAC,GAAD,IAAGC,EAAH,EAAGA,YAAaC,EAAhB,EAAgBA,QAAhB,OACd,6BACE,uBAAGL,UAAWC,IAAOK,SAClBF,EAAc,EADjB,IACqBC,K,iBC0BVE,EA7BE,SAAC,GAAD,IAAGH,EAAH,EAAGA,YAAaC,EAAhB,EAAgBA,QAASG,EAAzB,EAAyBA,oBAAzB,OACf,6BAASR,UAAWC,IAAOQ,UACzB,4BACEC,KAAK,SACLC,KAAK,OACLX,UAAWC,IAAOW,OAClBC,SAA0B,IAAhBT,EACVU,QAASN,GALX,kCASA,4BACEE,KAAK,SACLC,KAAK,OACLX,UAAWC,IAAOW,OAClBC,SAAUT,IAAgBC,EAAU,EACpCS,QAASN,GALX,0C,wBCbEO,EAAsB,SAAAC,GAAQ,OAClCC,IAAGC,MAAMF,EAASG,OAAQ,CAAEC,mBAAmB,IAAQC,MAEnDC,EAAiB,SAACC,EAAWC,GAAZ,OACrBD,GACAE,OAAOC,UAAUH,IACjBA,EAAY,GACZA,GAAaC,EAASG,Q,8kBCuDTC,E,2MA/BbpB,oBAAsB,YAA2B,IAAdG,EAAa,EAAvBkB,OAAUlB,KAAa,EAChB,EAAKmB,MAA3BC,EADsC,EACtCA,QAASf,EAD6B,EAC7BA,SACXgB,EAAaP,OAAOV,EAAoBC,IAE9Ce,EAAQE,KAAR,KACKjB,EADL,CAEEG,OAAO,QAAD,OAAmB,SAATR,EAAkBqB,EAAa,EAAIA,EAAa,O,2MAlBpCE,KAAKJ,MAA3BC,E,EAAAA,QAASf,E,EAAAA,SACXO,EAAYE,OAAOV,EAAoBC,IAExCM,EAAeC,EAAWY,IAC7BJ,EAAQE,KAAR,KACKjB,EADL,CAEEG,OAAQ,SACRiB,SAAU,a,qIAeN,IACApB,EAAakB,KAAKJ,MAAlBd,SACFO,EAAYE,OAAOV,EAAoBC,IACvCZ,EAAckB,EAAeC,EAAWY,GAC1CZ,EAAY,EACZ,EAEJ,OACE,yBAAKvB,UAAWC,IAAOoC,QACrB,kBAAC,EAAD,CACEjC,YAAaA,EACbC,QAAS8B,EAAaR,OACtBnB,oBAAqB0B,KAAK1B,sBAE5B,kBAAC,EAAD,CAASJ,YAAaA,EAAaC,QAAS8B,EAAaR,SACzD,kBAAC,EAAD,CAAa/B,KAAMuC,EAAa/B,U,GAhDnBkC,aCGNC,EATH,kBACV,oCACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,KAAK,UAAUC,UAAWb,IACjC,kBAAC,IAAD,CAAUc,GAAG,e,MCDnBC,IAASC,OACP,kBAAC,IAAD,CAAYF,GAAG,KACb,kBAAC,EAAD,OAEFG,SAASC,eAAe,U,qkgBCV1BrD,EAAOC,QAAU,CAAC,YAAc,iCAAiC,MAAQ,2BAA2B,KAAO,6B","file":"static/js/main.1b632731.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__2hhyR\",\"button\":\"Controls_button__AO6-g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"counter\":\"Counter_counter__E7FHw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reader\":\"Reader_reader__3gp7R\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Publication.module.css';\n\nconst Publication = ({ item: { title, id, text } }) => (\n  <article className={styles.publication} id={id}>\n    <h2 className={styles.title}>{title}</h2>\n    <p className={styles.text}>{text}</p>\n  </article>\n);\n\nPublication.propTypes = {\n  item: PropTypes.shape({\n    title: PropTypes.string.isRequired,\n    id: PropTypes.string.isRequired,\n    text: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default Publication;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Counter.module.css';\n\nconst Counter = ({ currentPage, maxPage }) => (\n  <div>\n    <p className={styles.counter}>\n      {currentPage + 1}/{maxPage}\n    </p>\n  </div>\n);\n\nCounter.propTypes = {\n  currentPage: PropTypes.number.isRequired,\n  maxPage: PropTypes.number.isRequired,\n};\n\nexport default Counter;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Controls.module.css';\n\nconst Controls = ({ currentPage, maxPage, handleControlButton }) => (\n  <section className={styles.controls}>\n    <button\n      type=\"button\"\n      name=\"prev\"\n      className={styles.button}\n      disabled={currentPage === 0}\n      onClick={handleControlButton}\n    >\n      Назад\n    </button>\n    <button\n      type=\"button\"\n      name=\"next\"\n      className={styles.button}\n      disabled={currentPage === maxPage - 1}\n      onClick={handleControlButton}\n    >\n      Вперед\n    </button>\n  </section>\n);\n\nControls.propTypes = {\n  currentPage: PropTypes.number.isRequired,\n  maxPage: PropTypes.number.isRequired,\n  handleControlButton: PropTypes.func.isRequired,\n};\n\nexport default Controls;\n","import qs from 'qs';\n\nconst getPageFromLocation = location =>\n  qs.parse(location.search, { ignoreQueryPrefix: true }).page;\n\nconst isPageEligible = (queryPage, pagesArr) =>\n  queryPage &&\n  Number.isInteger(queryPage) &&\n  queryPage > 0 &&\n  queryPage <= pagesArr.length;\n\nexport { getPageFromLocation, isPageEligible };\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Publication from './Publication/Publication';\nimport Counter from './Counter/Counter';\nimport Controls from './Controls/Controls';\nimport publications from '../../assets/publications.json';\nimport { getPageFromLocation, isPageEligible } from '../../helpers/helpers';\n\nimport styles from './Reader.module.css';\n\nclass Reader extends Component {\n  static propTypes = {\n    history: PropTypes.shape({\n      push: PropTypes.func.isRequired,\n    }).isRequired,\n    location: PropTypes.shape({\n      search: PropTypes.string.isRequired,\n    }).isRequired,\n  };\n\n  async componentDidMount() {\n    const { history, location } = this.props;\n    const queryPage = Number(getPageFromLocation(location));\n\n    if (!isPageEligible(queryPage, publications)) {\n      history.push({\n        ...location,\n        search: 'page=1',\n        pathname: '/reader',\n      });\n    }\n  }\n\n  handleControlButton = ({ target: { name } }) => {\n    const { history, location } = this.props;\n    const searchPage = Number(getPageFromLocation(location));\n\n    history.push({\n      ...location,\n      search: `page=${name === 'next' ? searchPage + 1 : searchPage - 1}`,\n    });\n  };\n\n  render() {\n    const { location } = this.props;\n    const queryPage = Number(getPageFromLocation(location));\n    const currentPage = isPageEligible(queryPage, publications)\n      ? queryPage - 1\n      : 0;\n\n    return (\n      <div className={styles.reader}>\n        <Controls\n          currentPage={currentPage}\n          maxPage={publications.length}\n          handleControlButton={this.handleControlButton}\n        />\n        <Counter currentPage={currentPage} maxPage={publications.length} />\n        <Publication item={publications[currentPage]} />\n      </div>\n    );\n  }\n}\n\nexport default Reader;\n","import React from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport Reader from '../Reader/Reader';\n\nconst App = () => (\n  <>\n    <Switch>\n      <Route path=\"/reader\" component={Reader} />\n      <Redirect to=\"/reader\" />\n    </Switch>\n  </>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './components/App/App';\n\nimport './index.css';\n\nReactDOM.render(\n  <HashRouter to=\"/\">\n    <App />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"publication\":\"Publication_publication__3YrdP\",\"title\":\"Publication_title__15K0B\",\"text\":\"Publication_text__3adOF\"};"],"sourceRoot":""}